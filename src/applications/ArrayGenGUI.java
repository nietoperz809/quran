/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package applications;

import java.awt.*;
import javax.swing.*;
import javax.swing.GroupLayout;
import arraygen.Arraygen;
import java.io.File;
import javax.swing.JInternalFrame;
import javax.swing.UIManager;

import misc.MDIChild;
import misc.Tools;


/**
 *
 * @author PetSel
 */
public class ArrayGenGUI extends MDIChild
{
    /**
     * Creates new form MainFrame
     */
    public ArrayGenGUI()
    {
        initComponents();
        //setSize(800, 400);
        setVisible(true);
        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setOpaque(true);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    // Generated using JFormDesigner Evaluation license - unknown
    private void initComponents() {
        chooser = new JFileChooser();
        jScrollPane1 = new JScrollPane();
        textArea = new JTextArea();
        button = new JButton();
        rbC = new JRadioButton();
        rbJava = new JRadioButton();
        nameField = new JTextField();
        rbPHP = new JRadioButton();
        rbJava1 = new JRadioButton();

        //======== this ========
        setTitle("Pittis Array Generator");
        Container contentPane = getContentPane();

        //---- chooser ----
        chooser.setAcceptAllFileFilterUsed(false);
        chooser.setControlButtonsAreShown(false);
        chooser.setToolTipText("");
        chooser.addActionListener(e -> chooserActionPerformed(e));

        //======== jScrollPane1 ========
        {

            //---- textArea ----
            textArea.setColumns(20);
            textArea.setRows(5);
            jScrollPane1.setViewportView(textArea);
        }

        //---- button ----
        button.setText("Copy to clipboard ...");
        button.addActionListener(e -> buttonActionPerformed(e));

        //---- rbC ----
        rbC.setText("C");
        rbC.addActionListener(e -> rbCActionPerformed(e));

        //---- rbJava ----
        rbJava.setText("Java");
        rbJava.addActionListener(e -> rbJavaActionPerformed(e));

        //---- nameField ----
        nameField.setText("myArray");
        nameField.addActionListener(e -> nameFieldActionPerformed(e));

        //---- rbPHP ----
        rbPHP.setText("PHP");
        rbPHP.addActionListener(e -> rbPHPActionPerformed(e));

        //---- rbJava1 ----
        rbJava1.setSelected(true);
        rbJava1.setText("Java func");
        rbJava1.addActionListener(e -> rbJava1ActionPerformed(e));

        GroupLayout contentPaneLayout = new GroupLayout(contentPane);
        contentPane.setLayout(contentPaneLayout);
        contentPaneLayout.setHorizontalGroup(
            contentPaneLayout.createParallelGroup()
                .addGroup(contentPaneLayout.createSequentialGroup()
                    .addGap(12, 12, 12)
                    .addComponent(button)
                    .addGap(8, 8, 8)
                    .addComponent(rbC)
                    .addGap(4, 4, 4)
                    .addComponent(rbJava)
                    .addGap(4, 4, 4)
                    .addComponent(rbJava1)
                    .addGap(0, 0, 0)
                    .addComponent(rbPHP)
                    .addGap(18, 18, 18)
                    .addComponent(nameField, GroupLayout.PREFERRED_SIZE, 60, GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(99, Short.MAX_VALUE))
                .addComponent(jScrollPane1)
                .addComponent(chooser, GroupLayout.DEFAULT_SIZE, 0, Short.MAX_VALUE)
        );
        contentPaneLayout.setVerticalGroup(
            contentPaneLayout.createParallelGroup()
                .addGroup(contentPaneLayout.createSequentialGroup()
                    .addComponent(chooser, GroupLayout.PREFERRED_SIZE, 214, GroupLayout.PREFERRED_SIZE)
                    .addGap(7, 7, 7)
                    .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 207, GroupLayout.PREFERRED_SIZE)
                    .addGap(7, 7, 7)
                    .addGroup(contentPaneLayout.createParallelGroup()
                        .addComponent(button)
                        .addComponent(rbC)
                        .addComponent(rbJava)
                        .addComponent(rbJava1)
                        .addComponent(rbPHP)
                        .addGroup(contentPaneLayout.createSequentialGroup()
                            .addGap(1, 1, 1)
                            .addComponent(nameField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                    .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        //---- buttonGroup ----
        ButtonGroup buttonGroup = new ButtonGroup();
        buttonGroup.add(rbC);
        buttonGroup.add(rbJava);
        buttonGroup.add(rbPHP);
        buttonGroup.add(rbJava1);
    }// </editor-fold>//GEN-END:initComponents

    private void generateText()
    {
        File f = chooser.getSelectedFile();
        if (f == null)
        {
            textArea.setText("Ooops?! No file selected");
            return;
        }    
        if (f.length() > 65536)
        {
            textArea.setText("Sorry, File too big");
            return;
        }
        try
        {
            String text = Arraygen.makeIt(nameField.getText(), f.getPath());
            textArea.setText(text);
        }
        catch (Exception ex)
        {
            System.err.println("No file");
        }
    }
        
    private void chooserActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_chooserActionPerformed
    {//GEN-HEADEREND:event_chooserActionPerformed
        generateText();
    }//GEN-LAST:event_chooserActionPerformed

    private void buttonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_buttonActionPerformed
    {//GEN-HEADEREND:event_buttonActionPerformed
        Tools.toClipBoard(textArea.getText());
    }//GEN-LAST:event_buttonActionPerformed

    private void rbJavaActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_rbJavaActionPerformed
    {//GEN-HEADEREND:event_rbJavaActionPerformed
        Arraygen.setCode (Arraygen.CODE.JAVA);
        generateText();
    }//GEN-LAST:event_rbJavaActionPerformed

    private void rbCActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_rbCActionPerformed
    {//GEN-HEADEREND:event_rbCActionPerformed
        Arraygen.setCode (Arraygen.CODE.C);
        generateText();
    }//GEN-LAST:event_rbCActionPerformed

    private void nameFieldActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_nameFieldActionPerformed
    {//GEN-HEADEREND:event_nameFieldActionPerformed
        generateText();
    }//GEN-LAST:event_nameFieldActionPerformed

    private void rbPHPActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_rbPHPActionPerformed
    {//GEN-HEADEREND:event_rbPHPActionPerformed
        Arraygen.setCode (Arraygen.CODE.PHP);
        generateText();
    }//GEN-LAST:event_rbPHPActionPerformed

    private void rbJava1ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_rbJava1ActionPerformed
    {//GEN-HEADEREND:event_rbJava1ActionPerformed
        Arraygen.setCode (Arraygen.CODE.JAVAFUNC);
        generateText();
    }//GEN-LAST:event_rbJava1ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) throws Exception
    {
        UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
        //buttonGroup.add(rbC);
        //buttonGroup.add
        java.awt.EventQueue.invokeLater(new Runnable()
        {
            public void run()
            {
                new ArrayGenGUI().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    // Generated using JFormDesigner Evaluation license - unknown
    private JFileChooser chooser;
    private JScrollPane jScrollPane1;
    private JTextArea textArea;
    private JButton button;
    private JRadioButton rbC;
    private JRadioButton rbJava;
    private JTextField nameField;
    private JRadioButton rbPHP;
    private JRadioButton rbJava1;

    @Override
    public void initAfterDeserialization ()
    {

    }
    // End of variables declaration//GEN-END:variables
}
