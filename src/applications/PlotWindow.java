package applications;

import chargen.Chargen;
import misc.MDIChild;
import misc.PixelCanvas;
import sun.font.CharToGlyphMapper;

import javax.swing.*;
import java.awt.*;
import java.awt.image.BufferedImage;

/**
 * Created by Administrator on 10/18/2016.
 */
public class PlotWindow extends MDIChild
{
    private JPanel panel1;

    private BufferedImage off_Image;
    private Graphics2D g2;
    private Color col;

    public void setColor (Color c)
    {
        col = c;
        g2.setColor(col);
    }

    public void setColor (int r, int g, int b)
    {
        setColor(new Color(r, g, b));
    }

    public void clear ()
    {
        off_Image = new BufferedImage(1024, 1024,
                BufferedImage.TYPE_INT_ARGB);
        g2 = off_Image.createGraphics();
        getPixelCanvas().setImage(off_Image);
    }

    public void print (int x, int y, String txt)
    {
        Chargen cg = new Chargen();
        cg.printImg(off_Image, txt, x, y);
        getPixelCanvas().setImage(off_Image);
    }

    public void plot (int x, int y)
    {
        g2.drawRect(x, y, 1, 1);
        getPixelCanvas().setImage(off_Image);
    }

    public PlotWindow ()
    {
        super();
        $$$setupUI$$$();
        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("BASIC plot window");
        setSize(500, 500);
        setVisible(true);
    }

    public PixelCanvas getPixelCanvas ()
    {
        return (PixelCanvas) panel1;
    }

    @Override
    public void initAfterDeserialization ()
    {

    }

    private void createUIComponents ()
    {
        panel1 = new PixelCanvas();
        panel1.setSize(500, 500);
        panel1.setOpaque(true);
        panel1.setVisible(true);
        panel1.setBackground(Color.BLACK);
        getContentPane().add(panel1, BorderLayout.CENTER);
        clear();
        setColor(Color.WHITE);
    }

    /**
     * Method generated by IntelliJ IDEA GUI Designer
     * >>> IMPORTANT!! <<<
     * DO NOT edit this method OR call it in your code!
     *
     * @noinspection ALL
     */
    private void $$$setupUI$$$ ()
    {
        createUIComponents();
        panel1.setMinimumSize(new Dimension(500, 500));
    }

    /**
     * @noinspection ALL
     */
    public JComponent $$$getRootComponent$$$ ()
    {
        return panel1;
    }
}
